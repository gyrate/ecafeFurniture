<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8">
    <title>Ecafe 在线使用文档</title>

    <!--文档所用css-->
    <link href="../css/base.css" rel="stylesheet" media="all">
    <link href="../css/style.css" rel="stylesheet" media="all">
    <!--[if lt IE 9]><script src="../js/html5.js"></script><![endif]-->

    <!--代码格式化样式-->
    <link href="../css/github.css" rel="stylesheet"/>

    <link href="../../css/base.css" rel="stylesheet" type="text/css"/>
    <link href="../../css/default.css" rel="stylesheet" type="text/css"/>
    <link href="../../css/skin1.css" rel="stylesheet" type="text/css"/>

    <link href="../../css/sui.tree.css" rel="stylesheet" media="all"/>
    <link href="../../css/sui.menu.css" rel="stylesheet" media="all"/>
</head>
<body>

<div id="c_wrap">
<div id="c_code" >
    <article>
            <h2 class="str">Example:创建一个标准Tree组件</h2>
            <section>
<pre id="std_pop" ><code class="javascript">var tree,
    menu;

menu = new Sui.menu.ContextMenu({
    itemConfigs:[
        {html:'添加节点',
            action:function(obj) {
                var node = tree.getSelectedNode() || tree.root;
                node.addChildNode(new Sui.tree.TreeNode({nodeText: "节点" }));
            }
        },
        {html:'操作B'},
        {html:'操作C'}
    ]
});

tree = new Sui.tree.Tree({
    lineVisible : true,
    renderTo:'tree',
    //enableDefaultContextMenu:true,
    contextMenu:menu,
    listeners : {
        nodeClick : function(event) {
            var text = event.nodeText;
            Sui.log(text);
        } ,
        beforeContextMenu: function (event) {

            var node = event.node;
            if(node){
                tree.setSelectedNode(node);
            }else{
                tree.clearSelectedNodes ()
            }
        }
    }
});

var treeDate = {
    "children":[
        {"children":[
            {"data":{},"id":"408","nodeIconClass":"","nodeText":"我的表单100","parentId":"407"},
            {"data":{},"id":"409","nodeIconClass":"","nodeText":"待审批表单200","parentId":"407"},
            {"data":{},"id":"410","nodeIconClass":"","nodeText":"已审批表单300","parentId":"407"},
            {"data":{},"id":"416","nodeIconClass":"","nodeText":"待查阅的表单500","parentId":"407"},
            {"data":{},"id":"430","nodeIconClass":"","nodeText":"发起表单  600","parentId":"407"}
        ],"data":{},"id":"407","nodeIconClass":"","nodeText":"我的工作台  100","expanded":"true"},
        {"children":[
            {"data":{},"id":"491","nodeIconClass":"","nodeText":"招待费用申请单400","parentId":"490"},
            {"data":{},"id":"492","nodeIconClass":"","nodeText":"请假单500","parentId":"490"},
            {"data":{},"id":"493","nodeIconClass":"","nodeText":"借款单600","parentId":"490"},
            {"data":{},"id":"494","nodeIconClass":"","nodeText":"绩效表单700","parentId":"490"},
            {"data":{},"id":"495","nodeIconClass":"","nodeText":"差旅报销单800","parentId":"490"}
        ],"data":{},"id":"490","nodeIconClass":"","nodeText":"我的工作台 ","expanded":"true"}
    ],
    "data":{},
    "id":"1",
    "nodeIconClass":"",
    "nodeText":"根节点"
};

var root = Sui.tree.TreeNodeUtil.buildTreeNodeFromJsonData(treeDate);
tree.setRoot(root);
</code></pre>
            </section>
    </article>
</div>

<div id="c_view">
    <div class="view_con">

        <div id="tree" style="width: 300px;background: #f0f0f0;"></div>


    </div>
</div>

</div>

</body>
<script src="../js/jquery-1.7.1.min.js"></script>
<script src="../js/commont.js"></script>

<script src="../js/highlight.pack.js"></script>

<!--Ecafe需要加载的文档-->
<script type="text/javascript" src="../../js/sui.js"></script>
<!--<script type="text/javascript" src="../../js/jquery-1.7.1.min.js"></script>-->
<script type="text/javascript" src="../../js/suibase.js"></script>

<script type="text/javascript" src="../../js/jquery-ui.js"></script>

<script src="../../js/tree/tree.js"></script>
<script src="../../js/menu/menu.js"></script>

<script type="text/javascript">

    //代码格式化
    if( $.browser.version > 8 ){
        hljs.tabReplace = '    ';
        hljs.initHighlightingOnLoad();
    }

    //执行code区域代码
   $('#std_pop').runCode();
</script>

</html>